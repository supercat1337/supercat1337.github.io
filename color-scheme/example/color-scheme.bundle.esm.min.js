function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g(o){document.documentElement.setAttribute("data-bs-theme",o)}function p(o){let e=()=>{o(f())},t=()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),t}function w(o,e){o.setAttribute("data-bs-theme",e)}var i=class{events={};on(e,t){typeof this.events[e]!="object"&&(this.events[e]=[]),this.events[e].push(t);let r=this,s=function(){r.removeListener(e,t)};return!/^(#has-listeners|#no-listeners)$/.test(e)&&this.events[e].length==1&&this.emit("#has-listeners",e),s}removeListener(e,t){var r;typeof this.events[e]=="object"&&(r=this.events[e].indexOf(t),r>-1&&(this.events[e].splice(r,1),!/^(#has-listeners|#no-listeners)$/.test(e)&&this.events[e].length==0&&this.emit("#no-listeners",e)))}emit(e){if(typeof this.events[e]=="object"){var t,r,s,n=[].slice.call(arguments,1);for(r=this.events[e].slice(),s=r.length,t=0;t<s;t++)try{r[t].apply(this,n)}catch(m){console.error(e,n),console.error(m)}}}once(e,t){return this.on(e,function r(){this.removeListener(e,r),t.apply(this,arguments)})}waitForEvent(e,t=0){return new Promise(r=>{let s,n=this.on(e,()=>{t>0&&clearTimeout(s),n(),r(!0)});t>0&&(s=setTimeout(()=>{n(),r(!1)},t))})}waitForAnyEvent(e,t=0){return new Promise(r=>{let s,n=[],m=()=>{t>0&&clearTimeout(s),n.forEach(d=>{d()}),r(!0)};e.forEach(d=>{n.push(this.on(d,m))}),t>0&&(s=setTimeout(()=>{m(),r(!1)},t))})}clear(){this.events={}}destroy(){this.clear()}clearEventListeners(e){(this.events[e]||[]).length>0&&(this.events[e]=[],this.emit("#no-listeners",e))}onHasEventListeners(e){return this.on("#has-listeners",e)}onNoEventListeners(e){return this.on("#no-listeners",e)}};var a=class{#t=new i;#e="auto";constructor(){let e=localStorage.getItem("preferredColorScheme");e==="dark"||e==="light"||e==="auto"?(this.#e=e,localStorage.setItem("preferredColorScheme",e)):(this.#e="auto",localStorage.setItem("preferredColorScheme","auto")),window.addEventListener("storage",t=>{if(t.key==="preferredColorScheme"){let r=t.newValue?t.newValue:"auto",s=r==="dark"||r==="light"||r==="auto"?r:"auto";if(s===this.#e)return;this.#e=s,this.#t.emit("preferred-scheme-change",t.newValue)}})}get scheme(){return this.#e}set scheme(e){e!==this.#e&&(this.#e=e,localStorage.setItem("preferredColorScheme",this.#e),this.#t.emit("preferred-scheme-change",e))}onSchemeChange(e){return this.#t.on("preferred-scheme-change",e)}};var l=class{onSchemeChange(e){return p(e)}get scheme(){return f()}};var c=class{#t=new i;#e="light";#r;#o;darkThemeName="dark";lightThemeName="light";constructor(e,t){this.#r=t,this.#o=e;let r=t.scheme,s=e.scheme,n=sessionStorage.getItem("currentColorScheme")||"unknown";n=="dark"||n=="light"||(n="unknown"),n==="unknown"?this.#e=r==="auto"?s:r:this.#e=n}onSchemeChange(e){return this.#t.on("current-scheme-change",e)}get scheme(){return this.#e}set scheme(e){if(e!=="dark"&&e!=="light"&&e!=="auto")throw new Error("Color scheme must be either 'dark', 'light' or 'auto'.");e==="auto"&&(e=this.#r.scheme,e==="auto"&&(e=this.#o.scheme)),e!==this.#e&&(sessionStorage.setItem("currentColorScheme",e),this.#e=e,this.#t.emit("current-scheme-change",this.#e))}getDefaultTheme(){return this.#e==="dark"?this.darkThemeName:this.lightThemeName}};var S=new CSSStyleSheet;S.replaceSync(`
    :root {
        color-scheme: light dark;
    }`);document.adoptedStyleSheets.push(S);var C=new l,k=new a,h=new c(C,k),y="#FFFFFF",E="#212529";document.documentElement.style.colorScheme=h.scheme;var u=document.createElement("meta");u.name="theme-color";u.content=h.scheme==="dark"?E:y;document.head.appendChild(u);h.onSchemeChange(o=>{u.content=o==="dark"?E:y,document.documentElement.style.colorScheme=o==="dark"?"dark":"light dark"});C.onSchemeChange(o=>{k.scheme==="auto"&&(h.scheme=o)});h.onSchemeChange(o=>{g(h.getDefaultTheme())});g(h.getDefaultTheme());export{g as applyColorTheme,w as applyColorThemeToElement,h as currentSchemeStorage,k as preferredSchemeStorage,C as systemSchemeStorage};
